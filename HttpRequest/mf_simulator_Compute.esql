
CREATE COMPUTE MODULE mf_simulator_Compute
	CREATE FUNCTION Main() RETURNS BOOLEAN
	BEGIN
		CALL CopyEntireMessage();
		RETURN TRUE;
	END;

	CREATE PROCEDURE CopyEntireMessage() BEGIN
			
		DECLARE res CHARACTER '<S:Envelope xmlns:S="http://schemas.xmlsoap.org/soap/envelope/"><S:Body><ns9:SBGenericTransferandPaymentsResponse xmlns:ns2="http://temenos.com/ACLOCKEDEVENTS" xmlns:ns3="http://temenos.com/SBGETACCTNET" xmlns:ns4="http://temenos.com/EBACMCREDITCARD" xmlns:ns5="http://temenos.com/SBGETCUSTOMER" xmlns:ns6="http://temenos.com/FUNDSTRANSFERSBMPAYMENTAPI100" xmlns:ns7="http://temenos.com/FUNDSTRANSFER" xmlns:ns8="http://temenos.com/SBGETENETTXNDTX" xmlns:ns9="http://temenos.com/CMS-SERVICES"><Status><transactionId>TXN1234567</transactionId><messageId>TWS241170003458094.00</messageId><successIndicator>Success</successIndicator><application>CASH-ADVANCE</application></Status><FUNDSTRANSFERType id="FT2320611271"><ns7:TRANSACTIONTYPE>process</ns7:TRANSACTIONTYPE><ns7:DEBITACCTNO>1965124001004</ns7:DEBITACCTNO><ns7:CURRENCYMKTDR>1</ns7:CURRENCYMKTDR><ns7:DEBITCURRENCY>MZN</ns7:DEBITCURRENCY><ns7:DEBITAMOUNT>2000.00</ns7:DEBITAMOUNT><ns7:DEBITVALUEDATE>20230725</ns7:DEBITVALUEDATE><ns7:DEBITTHEIRREF>Cash Advance</ns7:DEBITTHEIRREF><ns7:CREDITTHEIRREF>C</ns7:CREDITTHEIRREF><ns7:CREDITACCTNO>1010127541007</ns7:CREDITACCTNO><ns7:CURRENCYMKTCR>1</ns7:CURRENCYMKTCR><ns7:CREDITCURRENCY>MZN</ns7:CREDITCURRENCY><ns7:CREDITVALUEDATE>20230725</ns7:CREDITVALUEDATE><ns7:PROCESSINGDATE>20230725</ns7:PROCESSINGDATE><ns7:gORDERINGBANK><ns7:ORDERINGBANK>STANDARD BANK</ns7:ORDERINGBANK></ns7:gORDERINGBANK><ns7:gPAYMENTDETAILS><ns7:PAYMENTDETAILS>4289610001051085</ns7:PAYMENTDETAILS></ns7:gPAYMENTDETAILS><ns7:CHARGESACCTNO>1965124001004</ns7:CHARGESACCTNO><ns7:CHARGECOMDISPLAY>NO</ns7:CHARGECOMDISPLAY><ns7:COMMISSIONCODE>DEBIT PLUS CHARGES</ns7:COMMISSIONCODE><ns7:CHARGECODE>DEBIT PLUS CHARGES</ns7:CHARGECODE><ns7:PROFITCENTREDEPT>1900</ns7:PROFITCENTREDEPT><ns7:RETURNTODEPT>NO</ns7:RETURNTODEPT><ns7:FEDFUNDS>NO</ns7:FEDFUNDS><ns7:POSITIONTYPE>TR</ns7:POSITIONTYPE><ns7:AMOUNTDEBITED>MZN2000.00</ns7:AMOUNTDEBITED><ns7:AMOUNTCREDITED>MZN2000.00</ns7:AMOUNTCREDITED><ns7:CREDITCOMPCODE>MZ0010101</ns7:CREDITCOMPCODE><ns7:DEBITCOMPCODE>MZ0010196</ns7:DEBITCOMPCODE><ns7:LOCAMTDEBITED>2000.00</ns7:LOCAMTDEBITED><ns7:LOCAMTCREDITED>2000.00</ns7:LOCAMTCREDITED><ns7:CUSTGROUPLEVEL>99</ns7:CUSTGROUPLEVEL><ns7:DEBITCUSTOMER>90000</ns7:DEBITCUSTOMER><ns7:CREDITCUSTOMER>12081</ns7:CREDITCUSTOMER><ns7:DRADVICEREQDYN>N</ns7:DRADVICEREQDYN><ns7:CRADVICEREQDYN>N</ns7:CRADVICEREQDYN><ns7:CHARGEDCUSTOMER>90000</ns7:CHARGEDCUSTOMER><ns7:TOTRECCOMM>0</ns7:TOTRECCOMM><ns7:TOTRECCOMMLCL>0</ns7:TOTRECCOMMLCL><ns7:TOTRECCHG>0</ns7:TOTRECCHG><ns7:TOTRECCHGLCL>0</ns7:TOTRECCHGLCL><ns7:RATEFIXING>NO</ns7:RATEFIXING><ns7:TOTRECCHGCRCCY>0</ns7:TOTRECCHGCRCCY><ns7:TOTSNDCHGCRCCY>0.00</ns7:TOTSNDCHGCRCCY><ns7:AUTHDATE>20230725</ns7:AUTHDATE><ns7:gSTMTNOS><ns7:STMTNOS>205710003458096.00</ns7:STMTNOS><ns7:STMTNOS>1-2</ns7:STMTNOS><ns7:STMTNOS>MZ0010196</ns7:STMTNOS><ns7:STMTNOS>205710003458096.01</ns7:STMTNOS><ns7:STMTNOS>1-2</ns7:STMTNOS></ns7:gSTMTNOS><ns7:CURRNO>1</ns7:CURRNO><ns7:gINPUTTER><ns7:INPUTTER>34_ENQUIRYUSER1__WS___OFS_TWS</ns7:INPUTTER></ns7:gINPUTTER><ns7:gDATETIME><ns7:DATETIME>2404261608</ns7:DATETIME></ns7:gDATETIME><ns7:AUTHORISER>34_ENQUIRYUSER1_WS____OFS_TWS</ns7:AUTHORISER><ns7:COCODE>MZ0010101</ns7:COCODE><ns7:DEPTCODE>1900</ns7:DEPTCODE><ns7:INPUTVERSION>FUNDS.TRANSFER,SBM.PAYMENT.API.1.0.0</ns7:INPUTVERSION><ns7:DBACCTNAME>VISA SETTLEMENT AND CLEARANCE</ns7:DBACCTNAME><ns7:CRACCTNAME>AURELIO ANTONIO NUNES ROCHA</ns7:CRACCTNAME><ns7:RETREF>1</ns7:RETREF><ns7:SBCHANNEL>1</ns7:SBCHANNEL><ns7:NETTXNID>32424</ns7:NETTXNID><ns7:REQUESTDATE>20240411</ns7:REQUESTDATE><ns7:NETUSERNAME>JOSE</ns7:NETUSERNAME><ns7:SBUETRID>83e9848c-becd-44ef-b500-997095a403c7</ns7:SBUETRID><ns7:LSOURCETYPE>ACM</ns7:LSOURCETYPE><ns7:LBUSINESSIND>CASHADVANCE</ns7:LBUSINESSIND></FUNDSTRANSFERType></ns9:SBGenericTransferandPaymentsResponse></S:Body></S:Envelope>';
		DECLARE myblob BLOB CAST(res AS BLOB CCSID InputRoot.Properties.CodedCharSetId ENCODING InputRoot.Properties.Encoding);
		CREATE LASTCHILD OF OutputRoot DOMAIN('XMLNSC') PARSE(myblob);
		
	END;
END MODULE;
